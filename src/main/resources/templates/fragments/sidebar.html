<aside
  th:fragment="sidebar"
  class="w-64 bg-white shadow-xl flex-shrink-0 sticky left-0 sidebar border-r border-gray-200 z-10"
>
  <nav class="mt-2">
    <ul>
      <!-- Home -->
      <li class="flex items-center px-6 py-3 cursor-pointer sidebar-item">
        <a href="/user/view/dashboard" class="flex items-center w-full">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
            />
          </svg>
          Home
        </a>
      </li>

      <!-- Create Project -->
      <li class="flex items-center px-6 py-3 cursor-pointer sidebar-item">
        <a href="/user/view/create-project" class="flex items-center w-full">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
              clip-rule="evenodd"
            />
          </svg>
          Create Project
        </a>
      </li>

      <!-- Overview - Only for PM -->
      <li
        th:if="${user != null && user.roles != null && user.roles.?[name == 'ROLE_PM'].size() > 0}"
        class="flex items-center px-6 py-3 cursor-pointer sidebar-item"
      >
        <a
          href="/view/pm/dashboard"
          class="flex items-center w-full hover:text-blue-600 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3 text-gray-600"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M3 3a1 1 0 000 2h14a1 1 0 000-2H3zm0 4a1 1 0 000 2h9a1 1 0 000-2H3zm0 4a1 1 0 000 2h5a1 1 0 000-2H3zm0 4a1 1 0 000 2h2a1 1 0 000-2H3z"
            />
          </svg>
          Overview
        </a>
      </li>

      <!-- View All Projects -->
      <li class="flex items-center px-6 py-3 cursor-pointer sidebar-item">
        <a href="/user/view/view-all-projects" class="flex items-center w-full">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM3 8a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM5 12a1 1 0 100 2h10a1 1 0 100-2H5zM8 16a1 1 0 100 2h4a1 1 0 100-2H8z"
            />
          </svg>
          View All Projects
        </a>
      </li>

      <!-- My Tasks -->
      <li
        class="flex items-center px-6 py-3 cursor-pointer sidebar-item hover:bg-slate-100 transition"
      >
        <a
          href="/user/view/tasks"
          class="flex items-center w-full text-slate-700 hover:text-blue-700 font-medium"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <!-- checklist icon -->
            <path
              d="M7 4.5h9a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2Zm0 4h9a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2Zm0 4h9a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2ZM3.22 5.22a.75.75 0 0 1 1.06 0L5.5 6.44l1.22-1.22a.75.75 0 1 1 1.06 1.06L6.56 7.5l1.22 1.22a.75.75 0 1 1-1.06 1.06L5.5 8.56l-1.22 1.22a.75.75 0 1 1-1.06-1.06L4.44 7.5 3.22 6.28a.75.75 0 0 1 0-1.06Z"
            />
          </svg>
          My Tasks
        </a>
      </li>

      <!-- Teams List - Only for PM -->
      <li
        th:if="${user != null && user.roles != null && user.roles.?[name == 'ROLE_PM'].size() > 0}"
        class="flex items-center px-6 py-3 cursor-pointer sidebar-item"
      >
        <a
          href="/view/pm/teams"
          class="flex items-center w-full hover:text-blue-600 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3 text-gray-600"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              fill-rule="evenodd"
              d="M13 7a3 3 0 11-6 0 3 3 0 016 0zm-8 8a6 6 0 1112 0H5z"
              clip-rule="evenodd"
            />
          </svg>
          Teams List
        </a>
      </li>

      <!-- Chat -->
      <li class="flex items-center px-6 py-3 cursor-pointer sidebar-item">
        <a href="/user/view/message" class="flex items-center w-full">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 mr-3"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5V7h2v2zm8 0h-2V7h2v2z"
              clip-rule="evenodd"
            />
          </svg>
          Chat
        </a>
      </li>
    </ul>
  </nav>
</aside>
